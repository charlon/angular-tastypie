(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X={}.hasOwnProperty,V=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};o=10;c=null;O=null;E=null;N={};f=null;j=((W=document.cookie.match(/request_method=(\w+)/))!=null?W[1].toUpperCase():void 0)||"";z=null;m=function(e){var t;R("page:fetch");t=H(e);if(z!=null){z.abort()}z=new XMLHttpRequest;z.open("GET",t,true);z.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml");z.setRequestHeader("X-XHR-Referer",O);z.onload=function(){var t;R("page:receive");if(t=L()){M(e);u.apply(null,d(t));_();if(document.location.hash){document.location.href=document.location.href}else{I()}return R("page:load")}else{return document.location.href=e}};z.onloadend=function(){return z=null};z.onabort=function(){return P()};z.onerror=function(){return document.location.href=e};return z.send()};v=function(e){var t;s();t=N[e];if(z!=null){z.abort()}u(t.title,t.body);A(t);return R("page:restore")};s=function(){N[c.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset};return a(o)};k=function(e){if(e==null){e=o}if(/^[\d]+$/.test(e)){return o=parseInt(e)}};a=function(e){var t,n;for(t in N){if(!X.call(N,t))continue;n=N[t];if(t<=c.position-e){N[t]=null}}};u=function(t,n,r,i){document.title=t;document.documentElement.replaceChild(n,document.body);if(r!=null){e.update(r)}B();if(i){h()}c=window.history.state;return R("page:change")};h=function(){var e,t,n,r,i,s,o,u,a,f,l,c;s=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])'));for(o=0,a=s.length;o<a;o++){i=s[o];if(!((l=i.type)===""||l==="text/javascript")){continue}t=document.createElement("script");c=i.attributes;for(u=0,f=c.length;u<f;u++){e=c[u];t.setAttribute(e.name,e.value)}t.appendChild(document.createTextNode(i.innerHTML));r=i.parentNode,n=i.nextSibling;r.removeChild(i);r.insertBefore(t,n)}};B=function(){var e,t,n,r;t=Array.prototype.slice.call(document.body.getElementsByTagName("noscript"));for(n=0,r=t.length;n<r;n++){e=t[n];e.parentNode.removeChild(e)}};M=function(e){if(e!==O){return window.history.pushState({turbolinks:true,position:c.position+1},"",e)}};_=function(){var e,t;if(e=z.getResponseHeader("X-XHR-Redirected-To")){t=H(e)===e?document.location.hash:"";return window.history.replaceState(c,"",e+t)}};P=function(){return window.history.replaceState({turbolinks:true,position:Date.now()},"",document.location.href)};D=function(){return c=window.history.state};A=function(e){return window.scrollTo(e.positionX,e.positionY)};I=function(){return window.scrollTo(0,0)};H=function(e){var t;t=e;if(e.href==null){t=document.createElement("A");t.href=e}return t.href.replace(t.hash,"")};R=function(e){var t;t=document.createEvent("Events");t.initEvent(e,true,true);return document.dispatchEvent(t)};C=function(){return!R("page:before-change")};L=function(){var e,t,n,r,i,s;t=function(){var e;return 400<=(e=z.status)&&e<600};s=function(){return z.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)};r=function(e){var t,n,r,i,s;i=e.head.childNodes;s=[];for(n=0,r=i.length;n<r;n++){t=i[n];if((typeof t.getAttribute==="function"?t.getAttribute("data-turbolinks-track"):void 0)!=null){s.push(t.src||t.href)}}return s};e=function(e){var t;E||(E=r(document));t=r(e);return t.length!==E.length||i(t,E).length!==E.length};i=function(e,t){var n,r,i,s,o;if(e.length>t.length){s=[t,e],e=s[0],t=s[1]}o=[];for(r=0,i=e.length;r<i;r++){n=e[r];if(V.call(t,n)>=0){o.push(n)}}return o};if(!t()&&s()){n=f(z.responseText);if(n&&!e(n)){return n}}};d=function(t){var n;n=t.querySelector("title");return[n!=null?n.textContent:void 0,t.body,e.get(t).token,"runScripts"]};e={get:function(e){var t;if(e==null){e=document}return{node:t=e.querySelector('meta[name="csrf-token"]'),token:t!=null?typeof t.getAttribute==="function"?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;t=this.get();if(t.token!=null&&e!=null&&t.token!==e){return t.node.setAttribute("content",e)}}};n=function(){var e,t,n,r,i,s;t=function(e){return(new DOMParser).parseFromString(e,"text/html")};e=function(e){var t;t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e;return t};n=function(e){var t;t=document.implementation.createHTMLDocument("");t.open("replace");t.write(e);t.close();return t};try{if(window.DOMParser){i=t("<html><body><p>test");return t}}catch(o){r=o;i=e("<html><body><p>test");return e}finally{if((i!=null?(s=i.body)!=null?s.childNodes.length:void 0:void 0)!==1){return n}}};w=function(e){if(!e.defaultPrevented){document.removeEventListener("click",g,false);return document.addEventListener("click",g,false)}};g=function(e){var t;if(!e.defaultPrevented){t=p(e);if(t.nodeName==="A"&&!y(e,t)){if(!C()){U(t.href)}return e.preventDefault()}}};p=function(e){var t;t=e.target;while(!(!t.parentNode||t.nodeName==="A")){t=t.parentNode}return t};l=function(e){return location.protocol!==e.protocol||location.host!==e.host};t=function(e){return(e.hash&&H(e))===H(location)||e.href===location.href+"#"};x=function(e){var t;t=H(e);return t.match(/\.[a-z]+(\?.*)?$/g)&&!t.match(/\.html?(\?.*)?$/g)};S=function(e){var t;while(!(t||e===document)){t=e.getAttribute("data-no-turbolink")!=null;e=e.parentNode}return t};q=function(e){return e.target.length!==0};T=function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey};y=function(e,n){return l(n)||t(n)||x(n)||S(n)||q(n)||T(e)};b=function(){P();D();f=n();document.addEventListener("click",w,true);return window.addEventListener("popstate",function(e){var t;t=e.state;if(t!=null?t.turbolinks:void 0){if(N[t.position]){return v(t.position)}else{return U(e.target.location.href)}}},false)};i=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0;r=!navigator.userAgent.match(/CriOS\//);F=j==="GET"||j==="";if(i&&r&&F){U=function(e){O=document.location.href;s();return m(e)};b()}else{U=function(e){return document.location.href=e}}this.Turbolinks={visit:U,pagesCached:k}}).call(this)